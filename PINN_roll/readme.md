# 用PINN训练一个滚转角控制的pid参数
PINN网络架构    
输入层：系统实际输出值、期望输出值、系统偏差、控制量  
输出层：滚转角PID参数    
隐藏层：64、64、64    
激活函数：tanh


## 关于PINN
- 物理信息整合：PINN将物理定律（如微分方程）直接嵌入到神经网络的训练过程中，
确保了模型输出不仅符合数据特征，还遵循物理规律。这意味着PINN可以在没有大量标注数据的情况下进行训练，
特别是在数据稀缺或昂贵的情况下。    
- 泛化能力：PINN利用物理信息增强模型的泛化能力，使其能够在训练数据之外进行更准确的预测。
这在控制理论中尤为重要，因为实际飞行条件可能与训练数据有所不同。
- 无网格方法：PINN作为一种无网格方法，可以避免传统数值方法中网格生成和依赖的问题，
特别是在处理复杂几何形状或高维问题时。
- 参数反演和模型发现：PINN可以用于参数反演问题，即估计未知的模型参数，这在PID控制中可能涉及到未知系统
参数的辨识。
- 控制与优化：PINN可以用于控制和优化问题，直接在模型训练中整合控制目标，这可能比传统的PID参数优化方法
更直接和高效。
- 抗噪能力：PINN在训练过程中纳入物理信息，使其在存在含噪测量值的情况下也能保持较好的预测效果，
这在实际飞行控制中尤为重要，因为传感器数据通常含有噪声。
- 快速预测：PINN支持快速“在线”预测，这对于实时飞行控制系统来说是必要的。

## 关于PID
对于六自由度（6-DOF）固定翼无人机的飞行控制，通常需要设计多个PID控制器来分别控制不同的飞行动态。
以下是一些基本的PID控制器及其控制目标：
1. **滚转控制（Roll Control）**：
   - **目的**：控制飞机的滚转角（倾斜角度）。
   - **PID**：通常称为横滚PID，控制副翼偏转以实现飞机的滚转。
   - **输入**：期望的滚转角（通常从姿态控制系统获得）。
   - **输出**：副翼偏转角度。

2. **俯仰控制（Pitch Control）**：
   - **目的**：控制飞机的俯仰角（机头的上下角度）。
   - **PID**：控制升降舵偏转以实现飞机的俯仰。
   - **输入**：期望的俯仰角（通常从姿态控制系统获得）。
   - **输出**：升降舵偏转角度。

3. **偏航控制（Yaw Control）**：
   - **目的**：控制飞机的偏航角（机头的左右旋转）。
   - **PID**：控制方向舵偏转以实现飞机的偏航。
   - **输入**：期望的偏航角（通常从姿态控制系统获得）。
   - **输出**：方向舵偏转角度。

4. **高度控制（Altitude Control）**：
   - **目的**：控制飞机的飞行高度。
   - **PID**：根据气压高度计或其他高度传感器的反馈调整飞机的俯仰姿态，从而改变飞行高度。
   - **输入**：期望的高度。
   - **输出**：调整俯仰姿态的控制信号。

5. **速度控制（Airspeed Control）**：
   - **目的**：控制飞机的空速。
   - **PID**：根据空速传感器的反馈调整发动机推力或飞机姿态，以控制空速。
   - **输入**：期望的空速。
   - **输出**：发动机推力控制信号或姿态调整信号。

6. **航向控制（Heading Control）**：
   - **目的**：控制飞机的飞行航向。
   - **PID**：根据磁罗盘或GPS的反馈调整飞机的方向舵偏转，以控制飞行航向。
   - **输入**：期望的航向角。
   - **输出**：方向舵偏转角度。

7. **姿态控制（Attitude Control）**：
   - **目的**：控制飞机的姿态，通常由一个复合控制器实现，它结合了滚转、俯仰和偏航控制。
   - **PID**：姿态控制器通常使用姿态传感器（如IMU或AHRS）的反馈来调整飞机的姿态。
   - **输入**：期望的姿态角（滚转、俯仰、偏航）。
   - **输出**：舵面偏转角度的组合。

这些PID控制器可以单独设计和调整，但在实际飞行中它们是相互关联和相互影响的。
例如，改变滚转姿态可能会影响飞机的俯仰姿态，因此需要协调这些控制器以实现最佳的飞行性能。
在设计这些控制器时，需要考虑到飞机的动态特性和飞行环境，以及传感器的精度和延迟等因素。

## TODO
1. 通过遗传算法或者pso算法找到最优pid参数
2. 使用PINN进行训练，生成模型。
3. 使用模型，对其误差进行评估

## 关于输入与输出
 输入：系统当前值、期望值、控制量
 输出：PID参数
 
## 1.PSO优化pid
1. 想定不能设置滚转角，所以采用两阶段控制，先到达目标起始值，再做第二阶段控制
2. 角度的单位外部采用角度值，内部采用弧度值。


